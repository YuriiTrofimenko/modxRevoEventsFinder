<?php  return array (
  'resourceClass' => 'modDocument',
  'resource' => 
  array (
    'id' => 81,
    'type' => 'document',
    'contentType' => 'text/html',
    'pagetitle' => 'api',
    'longtitle' => '',
    'description' => '',
    'alias' => 'api',
    'link_attributes' => '',
    'published' => 1,
    'pub_date' => 0,
    'unpub_date' => 0,
    'parent' => 0,
    'isfolder' => 0,
    'introtext' => '',
    'content' => '[[--!cardStyle? &type=`shows`]]
[[--!eventsFilter]]
[[--!tvViewer]]
[[!eventsAjax]]',
    'richtext' => 1,
    'template' => 0,
    'menuindex' => 3,
    'searchable' => 1,
    'cacheable' => 1,
    'createdby' => 1,
    'createdon' => 1525680391,
    'editedby' => 1,
    'editedon' => 1526540779,
    'deleted' => 0,
    'deletedon' => 0,
    'deletedby' => 0,
    'publishedon' => 1525680360,
    'publishedby' => 1,
    'menutitle' => '',
    'donthit' => 0,
    'privateweb' => 0,
    'privatemgr' => 0,
    'content_dispo' => 0,
    'hidemenu' => 1,
    'class_key' => 'modDocument',
    'context_key' => 'web',
    'content_type' => 1,
    'uri' => 'api',
    'uri_override' => 0,
    'hide_children_in_tree' => 0,
    'show_in_tree' => 1,
    'properties' => NULL,
    '_content' => '


[[!eventsAjax]]',
    '_isForward' => false,
  ),
  'contentType' => 
  array (
    'id' => 1,
    'name' => 'HTML',
    'description' => 'HTML content',
    'mime_type' => 'text/html',
    'file_extensions' => '',
    'headers' => NULL,
    'binary' => 0,
  ),
  'policyCache' => 
  array (
  ),
  'elementCache' => 
  array (
    '[[getTickets?tpl=`eventsListItem`&limit=`10`&offset=`0`&depth=`10`&parents=`2`&resources=``&sortby=`createdon`&sortdir=`DESC`&includeContent=`1`&toPlaceholder=``&includeTVs=`img,date,event_type,age_limit`&where=`[{\'pagetitle:=:Event 1\'}]`&tvPrefix=``&outputSeparator=`
`&showLog=``&fastMode=``&showUnpublished=``&showDeleted=``&showHidden=`1`&user=``&tplWrapper=`eventsListOuter`&plPrefix=``&maxLimit=`100`&page=`1`&pageVarKey=`page`&totalVar=`page.total`&pageLimit=`5`&element=`getTickets`&pageNavVar=`page.nav`&pageCountVar=`pageCount`&pageLinkScheme=``&tplPage=`@INLINE <li><a href="[[+href]]">[[+pageNo]]</a></li>`&tplPageWrapper=`@INLINE <div class="pagination"><ul class="pagination">[[+first]][[+prev]][[+pages]][[+next]][[+last]]</ul></div>`&tplPageActive=`@INLINE <li class="active"><a href="[[+href]]">[[+pageNo]]</a></li>`&tplPageFirst=`@INLINE <li class="control"><a href="[[+href]]">[[%pdopage_first]]</a></li>`&tplPageLast=`@INLINE <li class="control"><a href="[[+href]]">[[%pdopage_last]]</a></li>`&tplPagePrev=`@INLINE <li class="control"><a href="[[+href]]">&laquo;</a></li>`&tplPageNext=`@INLINE <li class="control"><a href="[[+href]]">&raquo;</a></li>`&tplPageSkip=`@INLINE <li class="disabled"><span>...</span></li>`&tplPageFirstEmpty=`@INLINE <li class="disabled"><span>[[%pdopage_first]]</span></li>`&tplPageLastEmpty=`@INLINE <li class="disabled"><span>[[%pdopage_last]]</span></li>`&tplPagePrevEmpty=`@INLINE <li class="disabled"><span>&laquo;</span></li>`&tplPageNextEmpty=`@INLINE <li class="disabled"><span>&raquo;</span></li>`&cache=``&cacheTime=`3600`&cacheAnonymous=``&ajax=``&ajaxMode=``&ajaxElemWrapper=`#pdopage`&ajaxElemRows=`#pdopage .rows`&ajaxElemPagination=`#pdopage .pagination`&ajaxElemLink=`#pdopage .pagination a`&ajaxElemMore=`#pdopage .btn-more`&ajaxTplMore=`@INLINE <button class="btn btn-default btn-more">[[%pdopage_more]]</button>`&ajaxHistory=``&setMeta=`1`&strictMode=`1`&processTVs=`1`&request=`394df6293eccdc69f706f79bc97bcc2e`&setTotal=`1`]]' => '<div class="col s12 m6 l4 xl3">
    <div class="card lime lighten-2">
        <div class="card-image">
          <img src="/assets/components/phpthumbof/cache/yakbi-zustrilisya-mi-znovu.d9ffc2ce066f23b69f2b31c839306ac181.jpg">
          <div class="card-title">
          	<div>Якби зустрiлися ми знову... (                        16+                    )</div>
          	<div id="date">23.05.2018</div>
          </div>
        </div>
        <div class="card-content">
          <p>Коханi жiнки в життi та творчостi Т.Г. ШевченкоВистава&#8230;</p>
        </div>
        <div class="card-action">
          <a href="events/87-yakbi-zustrilisya-mi-znovu">Подробнее...</a>
        </div>
      </div>
</div>
<!-- <div class="tickets-row">
    <h3 class="title"><a href="events/87-yakbi-zustrilisya-mi-znovu">Якби зустрiлися ми знову...</a></h3>
	<div class="content">
		Коханi жiнки в життi та творчостi Т.Г. ШевченкоВистава йде украiнською мовою1 год.<br/>
		<a href="events/87-yakbi-zustrilisya-mi-znovu#cut" class="btn btn-default ticket-read-more">Читать дальше</a>
	</div>
	<div class="ticket-meta row" data-id="87">
		<span class="col-md-5">
			<i class="glyphicon glyphicon-calendar"></i> Вчера в 12:11
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-user"></i> Администратор по умолчанию
		</span>
		<span class="col-md-2"><a href="events"><i class="glyphicon glyphicon-folder-open"></i> События</a></span>
		<span class="col-md-3">
			<span class="ticket-star active"><i class="glyphicon glyphicon-star unstared star"></i> <span class="ticket-star-count">0</span></span>
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-eye-open"></i> 1
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-comment"></i> 0  
		</span>
		<span class="col-md-2 pull-right ticket-rating inactive">
			<span class="vote plus" title="Нравится"><i class="glyphicon glyphicon-arrow-up"></i></span>
			<span class="rating" title="Всего 0: ↑0 и ↓0">0</span>
			<span class="vote minus" title="Не нравится"><i class="glyphicon glyphicon-arrow-down"></i></span>
		</span>
	</div>
</div> -->
<div class="col s12 m6 l4 xl3">
    <div class="card light-green lighten-3">
        <div class="card-image">
          <img src="/assets/components/phpthumbof/cache/kraevedcheskie-vystavki.d9ffc2ce066f23b69f2b31c839306ac181.jpg">
          <div class="card-title">
          	<div>Краеведческие выставки (                        0+                    )</div>
          	<div id="date">23.05.2018</div>
          </div>
        </div>
        <div class="card-content">
          <p>Работа постоянных экспозиций музея:- Природа Донецкого&#8230;</p>
        </div>
        <div class="card-action">
          <a href="events/88-kraevedcheskie-vystavki">Подробнее...</a>
        </div>
      </div>
</div>
<!-- <div class="tickets-row">
    <h3 class="title"><a href="events/88-kraevedcheskie-vystavki">Краеведческие выставки</a></h3>
	<div class="content">
		Работа постоянных экспозиций музея:- Природа Донецкого Приазовья;- Растительный мир Донецкого Приазовья и его охрана; - Животный мир края и его охрана;- Заповедники Донецкого Приазовья и Красная книга;- Археологические памятники Донецкого Приазовья;- Кочевники средневековья в Северном Приазовье;- Заселение и хозяйственное развитие края в конце XVIII - первой  пол. - XIX веков.- Наш край во второй половине  XIX - начале XX веков.- Край в период Октябрьской революции, иностранной интервенции и гражданской войны;- Социально-экономическое и культурное развитие края в 1920-1941гг.- Край в годы Великой Отечественной войны;- Социально-экономическое и культурное развитие края в 1945-1991 гг.- Мариуполь за годы независимости: 1991-2012г.;- Мариуполь спортивный- Казацкие древности- Нумизматическая коллекция в экспозиции музея Билет: взрослый 8 гривен, детский 4 гривны.<br/>
		<a href="events/88-kraevedcheskie-vystavki#cut" class="btn btn-default ticket-read-more">Читать дальше</a>
	</div>
	<div class="ticket-meta row" data-id="88">
		<span class="col-md-5">
			<i class="glyphicon glyphicon-calendar"></i> Вчера в 12:11
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-user"></i> Администратор по умолчанию
		</span>
		<span class="col-md-2"><a href="events"><i class="glyphicon glyphicon-folder-open"></i> События</a></span>
		<span class="col-md-3">
			<span class="ticket-star active"><i class="glyphicon glyphicon-star unstared star"></i> <span class="ticket-star-count">0</span></span>
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-eye-open"></i> 0
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-comment"></i> 0  
		</span>
		<span class="col-md-2 pull-right ticket-rating inactive">
			<span class="vote plus" title="Нравится"><i class="glyphicon glyphicon-arrow-up"></i></span>
			<span class="rating" title="Всего 0: ↑0 и ↓0">0</span>
			<span class="vote minus" title="Не нравится"><i class="glyphicon glyphicon-arrow-down"></i></span>
		</span>
	</div>
</div> -->
<div class="col s12 m6 l4 xl3">
    <div class="card light-green lighten-3">
        <div class="card-image">
          <img src="/assets/components/phpthumbof/cache/narodnyy-byt.d9ffc2ce066f23b69f2b31c839306ac181.jpg">
          <div class="card-title">
          	<div>Народный быт (0+)</div>
          	<div id="date">23.05.2018</div>
          </div>
        </div>
        <div class="card-content">
          <p>Экспозиция Музея народного быта знакомит посетителей&#8230;</p>
        </div>
        <div class="card-action">
          <a href="events/85-narodnyy-byt">Подробнее...</a>
        </div>
      </div>
</div>
<!-- <div class="tickets-row">
    <h3 class="title"><a href="events/85-narodnyy-byt">Народный быт</a></h3>
	<div class="content">
		Экспозиция Музея народного быта знакомит посетителей с особенностями повседневной жизни жителей Приазовья разных национальностей, которые заселили территорию Приазовья в конце XVIII века. В музее можно узнать о хозяйственной деятельности и культуре украинцев, русских, греков, евреев, немцев.<br/>
		<a href="events/85-narodnyy-byt#cut" class="btn btn-default ticket-read-more">Читать дальше</a>
	</div>
	<div class="ticket-meta row" data-id="85">
		<span class="col-md-5">
			<i class="glyphicon glyphicon-calendar"></i> Вчера в 11:51
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-user"></i> Администратор по умолчанию
		</span>
		<span class="col-md-2"><a href="events"><i class="glyphicon glyphicon-folder-open"></i> События</a></span>
		<span class="col-md-3">
			<span class="ticket-star active"><i class="glyphicon glyphicon-star unstared star"></i> <span class="ticket-star-count">0</span></span>
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-eye-open"></i> 1
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-comment"></i> 0  
		</span>
		<span class="col-md-2 pull-right ticket-rating inactive">
			<span class="vote plus" title="Нравится"><i class="glyphicon glyphicon-arrow-up"></i></span>
			<span class="rating" title="Всего 0: ↑0 и ↓0">0</span>
			<span class="vote minus" title="Не нравится"><i class="glyphicon glyphicon-arrow-down"></i></span>
		</span>
	</div>
</div> -->
<div class="col s12 m6 l4 xl3">
    <div class="card indigo lighten-1">
        <div class="card-image">
          <img src="/assets/components/phpthumbof/cache/otkrytaya-trenirovka.d9ffc2ce066f23b69f2b31c839306ac181.jpg">
          <div class="card-title">
          	<div>Открытая тренировка (0+)</div>
          	<div id="date">14.05.2018</div>
          </div>
        </div>
        <div class="card-content">
          <p>Каждый вторник и суббота в 7.00 Открытая тренировка.&#8230;</p>
        </div>
        <div class="card-action">
          <a href="events/83-otkrytaya-trenirovka">Подробнее...</a>
        </div>
      </div>
</div>
<!-- <div class="tickets-row">
    <h3 class="title"><a href="events/83-otkrytaya-trenirovka">Открытая тренировка</a></h3>
	<div class="content">
		Каждый вторник и суббота в 7.00 Открытая тренировка. Единоборства и Crossfit.Место проведения: Спорт площадка возле водной станции «Маркохим»Подробности по тел. 0985543902<br/>
		<a href="events/83-otkrytaya-trenirovka#cut" class="btn btn-default ticket-read-more">Читать дальше</a>
	</div>
	<div class="ticket-meta row" data-id="83">
		<span class="col-md-5">
			<i class="glyphicon glyphicon-calendar"></i> 08 мая 2018, 11:57
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-user"></i> Администратор по умолчанию
		</span>
		<span class="col-md-2"><a href="events"><i class="glyphicon glyphicon-folder-open"></i> События</a></span>
		<span class="col-md-3">
			<span class="ticket-star active"><i class="glyphicon glyphicon-star unstared star"></i> <span class="ticket-star-count">0</span></span>
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-eye-open"></i> 0
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-comment"></i> 0  
		</span>
		<span class="col-md-2 pull-right ticket-rating inactive">
			<span class="vote plus" title="Нравится"><i class="glyphicon glyphicon-arrow-up"></i></span>
			<span class="rating" title="Всего 0: ↑0 и ↓0">0</span>
			<span class="vote minus" title="Не нравится"><i class="glyphicon glyphicon-arrow-down"></i></span>
		</span>
	</div>
</div> -->
<div class="col s12 m6 l4 xl3">
    <div class="card light-green lighten-3">
        <div class="card-image">
          <img src="/assets/components/phpthumbof/cache/ekzoticheskie-zhivotnye.d9ffc2ce066f23b69f2b31c839306ac181.jpg">
          <div class="card-title">
          	<div>Экзотические животные (0+)</div>
          	<div id="date">08.05.2018</div>
          </div>
        </div>
        <div class="card-content">
          <p>Более 50-ти видов животных с пяти континентов мира.&#8230;</p>
        </div>
        <div class="card-action">
          <a href="events/78-ekzoticheskie-zhivotnye">Подробнее...</a>
        </div>
      </div>
</div>
<!-- <div class="tickets-row">
    <h3 class="title"><a href="events/78-ekzoticheskie-zhivotnye">Экзотические животные</a></h3>
	<div class="content">
		Более 50-ти видов животных с пяти континентов мира. От насекомых до птиц и млекопитающих.Стоимость входных билетов:взрослый -30 грндетский - 20грн (до 10 лет)дети до 3х лет бесплатноЗа отдельную плату Вы можете:- сфотографироваться с животными и снять их на видеокамеру- покормить животных- погладить животныхДополнительная информация по телефонам: 097-557-28-18095-115-13-35<br/>
		<a href="events/78-ekzoticheskie-zhivotnye#cut" class="btn btn-default ticket-read-more">Читать дальше</a>
	</div>
	<div class="ticket-meta row" data-id="78">
		<span class="col-md-5">
			<i class="glyphicon glyphicon-calendar"></i> 07 мая 2018, 10:38
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-user"></i> Администратор по умолчанию
		</span>
		<span class="col-md-2"><a href="events"><i class="glyphicon glyphicon-folder-open"></i> События</a></span>
		<span class="col-md-3">
			<span class="ticket-star active"><i class="glyphicon glyphicon-star unstared star"></i> <span class="ticket-star-count">0</span></span>
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-eye-open"></i> 1
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-comment"></i> 0  
		</span>
		<span class="col-md-2 pull-right ticket-rating inactive">
			<span class="vote plus" title="Нравится"><i class="glyphicon glyphicon-arrow-up"></i></span>
			<span class="rating" title="Всего 0: ↑0 и ↓0">0</span>
			<span class="vote minus" title="Не нравится"><i class="glyphicon glyphicon-arrow-down"></i></span>
		</span>
	</div>
</div> -->
<div class="col s12 m6 l4 xl3">
    <div class="card light-green lighten-3">
        <div class="card-image">
          <img src="/assets/components/phpthumbof/cache/morskaya-flora-i-fauna.d9ffc2ce066f23b69f2b31c839306ac181.jpg">
          <div class="card-title">
          	<div>Морская флора и фауна (0+)</div>
          	<div id="date">14.05.2018</div>
          </div>
        </div>
        <div class="card-content">
          <p>В пяти залах Азовского морского музея имени В. А. Павлия&#8230;</p>
        </div>
        <div class="card-action">
          <a href="events/79-morskaya-flora-i-fauna">Подробнее...</a>
        </div>
      </div>
</div>
<!-- <div class="tickets-row">
    <h3 class="title"><a href="events/79-morskaya-flora-i-fauna">Морская флора и фауна</a></h3>
	<div class="content">
		В пяти залах Азовского морского музея имени В. А. Павлия Мариуполя собраны экспонаты и материалы, охватывающие эпоху начиная со времен Петра Первого, закладки им на Азовье города Таганрога в качестве гавани будущего флота до Первой мировой войны, Великой Отечественной, последующих мирных десятилетий развития Азовского бассейна.Экспозиция «Морская флора и фауна»: крабы – из Индийского океана, кораллы – из Красного моря; рыба-меч, рыба-пила. Живописный зал – выставка морских сувениров из Африки, порта Дакар. Ценные морские инструменты, аппараты, навигационные приборы, множество других судовых принадлежностей. Ряд художественных картин. Экспонаты одного из залов посвящены пятидесяти шести Героям Советского Союза, жизнь которых была связана с Мариуполем: адмиралу Лунину, полярному исследователю Седову, географу и исследователю Арктики Папанину и другим.Выставка с 10:00 до 17:00Перерыв с 12:00 до 13:00Вход на выставку бесплатный.Заказ экскурсии (097) 674-41-74.<br/>
		<a href="events/79-morskaya-flora-i-fauna#cut" class="btn btn-default ticket-read-more">Читать дальше</a>
	</div>
	<div class="ticket-meta row" data-id="79">
		<span class="col-md-5">
			<i class="glyphicon glyphicon-calendar"></i> 07 мая 2018, 10:38
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-user"></i> Администратор по умолчанию
		</span>
		<span class="col-md-2"><a href="events"><i class="glyphicon glyphicon-folder-open"></i> События</a></span>
		<span class="col-md-3">
			<span class="ticket-star active"><i class="glyphicon glyphicon-star unstared star"></i> <span class="ticket-star-count">0</span></span>
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-eye-open"></i> 1
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-comment"></i> 0  
		</span>
		<span class="col-md-2 pull-right ticket-rating inactive">
			<span class="vote plus" title="Нравится"><i class="glyphicon glyphicon-arrow-up"></i></span>
			<span class="rating" title="Всего 0: ↑0 и ↓0">0</span>
			<span class="vote minus" title="Не нравится"><i class="glyphicon glyphicon-arrow-down"></i></span>
		</span>
	</div>
</div> -->
<div class="col s12 m6 l4 xl3">
    <div class="card light-green lighten-3">
        <div class="card-image">
          <img src="/assets/components/phpthumbof/cache/derevyannaya-skul-ptura.d9ffc2ce066f23b69f2b31c839306ac181.jpg">
          <div class="card-title">
          	<div>Деревянная скульптура (0+)</div>
          	<div id="date">14.05.2018</div>
          </div>
        </div>
        <div class="card-content">
          <p>В галерее деревянной скульптуры мариупольского умельца&#8230;</p>
        </div>
        <div class="card-action">
          <a href="events/80-derevyannaya-skul-ptura">Подробнее...</a>
        </div>
      </div>
</div>
<!-- <div class="tickets-row">
    <h3 class="title"><a href="events/80-derevyannaya-skul-ptura">Деревянная скульптура</a></h3>
	<div class="content">
		Could not load snippet Jevix<br/>
		<a href="events/80-derevyannaya-skul-ptura#cut" class="btn btn-default ticket-read-more">Читать дальше</a>
	</div>
	<div class="ticket-meta row" data-id="80">
		<span class="col-md-5">
			<i class="glyphicon glyphicon-calendar"></i> 07 мая 2018, 10:38
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-user"></i> Администратор по умолчанию
		</span>
		<span class="col-md-2"><a href="events"><i class="glyphicon glyphicon-folder-open"></i> События</a></span>
		<span class="col-md-3">
			<span class="ticket-star active"><i class="glyphicon glyphicon-star unstared star"></i> <span class="ticket-star-count">0</span></span>
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-eye-open"></i> 0
			&nbsp;&nbsp;
			<i class="glyphicon glyphicon-comment"></i> 0  
		</span>
		<span class="col-md-2 pull-right ticket-rating inactive">
			<span class="vote plus" title="Нравится"><i class="glyphicon glyphicon-arrow-up"></i></span>
			<span class="rating" title="Всего 0: ↑0 и ↓0">0</span>
			<span class="vote minus" title="Не нравится"><i class="glyphicon glyphicon-arrow-down"></i></span>
		</span>
	</div>
</div> -->',
  ),
  'sourceCache' => 
  array (
    'modChunk' => 
    array (
    ),
    'modSnippet' => 
    array (
      'eventsAjax' => 
      array (
        'fields' => 
        array (
          'id' => 27,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'eventsAjax',
          'description' => '',
          'editor_type' => 0,
          'category' => 7,
          'cache_type' => 0,
          'snippet' => '$output = \'\';
if(isset($_REQUEST[\'action\'])) {

	switch ($_REQUEST[\'action\']) {

		case \'fetch-filtered-events\':
			$output = \'[[$filteredEventsAjax]]\';
			break;

		case \'fetch-events-by-title\':
			$title = $_REQUEST[\'title\'];
			$output =
				"[[!pdoPage?
					&parents=`2`
				    &element=`getTickets`
				    &tpl=`eventsListItem`
				    &tplWrapper=`eventsListOuter`
				    &includeContent=`1`
				    &includeTVs=`img,date,event_type,age_limit`
				    &processTVs=`1`
				    &where=`[{\'pagetitle:=:[$title]\'}]`
				]]"
			;
			break;

		case \'fetch-enents-titles\':
			require_once(\'/assets/custom/snippets/modxInit.php\');
			$where = [\'parent\' => \'2\'];
			$resources = $GLOBALS[\'modx\']->getCollection(\'modResource\', $where);
			//var_dump($resources);
			$outputArray = [];
			foreach ($resources as $doc) {
			    $outputArray[$doc->get(\'pagetitle\')] = null;
			}
			//$output = json_encode($outputArray, JSON_UNESCAPED_UNICODE);
			$output = json_encode($outputArray);
			break;
		
		default:
			# code...
			break;
	}
}
return $output;',
          'locked' => false,
          'properties' => 
          array (
          ),
          'moduleguid' => '',
          'static' => true,
          'static_file' => 'assets/custom/snippets/eventsAjax.php',
          'content' => '$output = \'\';
if(isset($_REQUEST[\'action\'])) {

	switch ($_REQUEST[\'action\']) {

		case \'fetch-filtered-events\':
			$output = \'[[$filteredEventsAjax]]\';
			break;

		case \'fetch-events-by-title\':
			$title = $_REQUEST[\'title\'];
			$output =
				"[[!pdoPage?
					&parents=`2`
				    &element=`getTickets`
				    &tpl=`eventsListItem`
				    &tplWrapper=`eventsListOuter`
				    &includeContent=`1`
				    &includeTVs=`img,date,event_type,age_limit`
				    &processTVs=`1`
				    &where=`[{\'pagetitle:=:[$title]\'}]`
				]]"
			;
			break;

		case \'fetch-enents-titles\':
			require_once(\'/assets/custom/snippets/modxInit.php\');
			$where = [\'parent\' => \'2\'];
			$resources = $GLOBALS[\'modx\']->getCollection(\'modResource\', $where);
			//var_dump($resources);
			$outputArray = [];
			foreach ($resources as $doc) {
			    $outputArray[$doc->get(\'pagetitle\')] = null;
			}
			//$output = json_encode($outputArray, JSON_UNESCAPED_UNICODE);
			$output = json_encode($outputArray);
			break;
		
		default:
			# code...
			break;
	}
}
return $output;',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'pdoPage' => 
      array (
        'fields' => 
        array (
          'id' => 15,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'pdoPage',
          'description' => '',
          'editor_type' => 0,
          'category' => 10,
          'cache_type' => 0,
          'snippet' => '/** @var array $scriptProperties */
// Default variables
if (empty($pageVarKey)) {
    $pageVarKey = \'page\';
}
if (empty($pageNavVar)) {
    $pageNavVar = \'page.nav\';
}
if (empty($pageCountVar)) {
    $pageCountVar = \'pageCount\';
}
if (empty($totalVar)) {
    $totalVar = \'total\';
}
if (empty($page)) {
    $page = 1;
}
if (empty($pageLimit)) {
    $pageLimit = 5;
} else {
    $pageLimit = (integer)$pageLimit;
}
if (!isset($plPrefix)) {
    $plPrefix = \'\';
}
if (!empty($scriptProperties[\'ajaxMode\'])) {
    $scriptProperties[\'ajax\'] = 1;
}

// Convert parameters from getPage if exists
if (!empty($namespace)) {
    $plPrefix = $namespace;
}
if (!empty($pageNavTpl)) {
    $scriptProperties[\'tplPage\'] = $pageNavTpl;
}
if (!empty($pageNavOuterTpl)) {
    $scriptProperties[\'tplPageWrapper\'] = $pageNavOuterTpl;
}
if (!empty($pageActiveTpl)) {
    $scriptProperties[\'tplPageActive\'] = $pageActiveTpl;
}
if (!empty($pageFirstTpl)) {
    $scriptProperties[\'tplPageFirst\'] = $pageFirstTpl;
}
if (!empty($pagePrevTpl)) {
    $scriptProperties[\'tplPagePrev\'] = $pagePrevTpl;
}
if (!empty($pageNextTpl)) {
    $scriptProperties[\'tplPageNext\'] = $pageNextTpl;
}
if (!empty($pageLastTpl)) {
    $scriptProperties[\'tplPageLast\'] = $pageLastTpl;
}
if (!empty($pageSkipTpl)) {
    $scriptProperties[\'tplPageSkip\'] = $pageSkipTpl;
}
if (!empty($pageNavScheme)) {
    $scriptProperties[\'scheme\'] = $pageNavScheme;
}
if (!empty($cache_expires)) {
    $scriptProperties[\'cacheTime\'] = $cache_expires;
}
//---
$strictMode = !empty($strictMode);

$isAjax = !empty($scriptProperties[\'ajax\']) && !empty($_SERVER[\'HTTP_X_REQUESTED_WITH\']) && $_SERVER[\'HTTP_X_REQUESTED_WITH\'] == \'XMLHttpRequest\';
if ($isAjax && !isset($_REQUEST[$pageVarKey])) {
    return;
}

/** @var pdoPage $pdoPage */
$fqn = $modx->getOption(\'pdoPage.class\', null, \'pdotools.pdopage\', true);
$path = $modx->getOption(\'pdopage_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);
if ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {
    $pdoPage = new $pdoClass($modx, $scriptProperties);
} else {
    return false;
}
$pdoPage->pdoTools->addTime(\'pdoTools loaded\');

// Script and styles
if (!$isAjax && !empty($scriptProperties[\'ajaxMode\'])) {
    $pdoPage->loadJsCss();
}
// Removing of default scripts and styles so they do not overwrote nested snippet parameters
if ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoPage\'))) {
    $properties = $snippet->get(\'properties\');
    if ($scriptProperties[\'frontend_js\'] == $properties[\'frontend_js\'][\'value\']) {
        unset($scriptProperties[\'frontend_js\']);
    }
    if ($scriptProperties[\'frontend_css\'] == $properties[\'frontend_css\'][\'value\']) {
        unset($scriptProperties[\'frontend_css\']);
    }
}

// Page
if (isset($_REQUEST[$pageVarKey]) && $strictMode && (!is_numeric($_REQUEST[$pageVarKey]) || ($_REQUEST[$pageVarKey] <= 1 && !$isAjax))) {
    return $pdoPage->redirectToFirst($isAjax);
} elseif (!empty($_REQUEST[$pageVarKey])) {
    $page = (integer)$_REQUEST[$pageVarKey];
}
$scriptProperties[\'page\'] = $page;
$scriptProperties[\'request\'] = $_REQUEST;

// Limit
if (isset($_REQUEST[\'limit\'])) {
    if (is_numeric($_REQUEST[\'limit\']) && abs($_REQUEST[\'limit\']) > 0) {
        $scriptProperties[\'limit\'] = abs($_REQUEST[\'limit\']);
    } elseif ($strictMode) {
        unset($_GET[\'limit\']);

        return $pdoPage->redirectToFirst($isAjax);
    }
}
if (!empty($maxLimit) && !empty($scriptProperties[\'limit\']) && $scriptProperties[\'limit\'] > $maxLimit) {
    $scriptProperties[\'limit\'] = $maxLimit;
}

// Offset
$offset = !empty($scriptProperties[\'offset\']) && $scriptProperties[\'offset\'] > 0
    ? (int)$scriptProperties[\'offset\']
    : 0;
$scriptProperties[\'offset\'] = $page > 1
    ? $scriptProperties[\'limit\'] * ($page - 1) + $offset
    : $offset;
if (!empty($scriptProperties[\'offset\']) && empty($scriptProperties[\'limit\'])) {
    $scriptProperties[\'limit\'] = 10000000;
}

$cache = !empty($cache) || (!$modx->user->id && !empty($cacheAnonymous));
$url = $pdoPage->getBaseUrl();
$output = $pagination = $total = $pageCount = \'\';

$data = $cache
    ? $pdoPage->pdoTools->getCache($scriptProperties)
    : array();

if (empty($data)) {
    $scriptProperties[\'setTotal\'] = true;
    $output = $pdoPage->pdoTools->runSnippet($scriptProperties[\'element\'], $scriptProperties);
    if ($output === false) {
        return \'\';
    } elseif (!empty($toPlaceholder)) {
        $output = $modx->getPlaceholder($toPlaceholder);
    }

    // Pagination
    $total = (int)$modx->getPlaceholder($totalVar);
    $pageCount = !empty($scriptProperties[\'limit\']) && $total > $offset
        ? ceil(($total - $offset) / $scriptProperties[\'limit\'])
        : 0;

    // Redirect to start if somebody specified incorrect page
    if ($page > 1 && $page > $pageCount && $strictMode) {
        return $pdoPage->redirectToFirst($isAjax);
    }
    if (!empty($pageCount) && $pageCount > 1) {
        $pagination = array(
            \'first\' => $page > 1 && !empty($tplPageFirst)
                ? $pdoPage->makePageLink($url, 1, $tplPageFirst)
                : \'\',
            \'prev\' => $page > 1 && !empty($tplPagePrev)
                ? $pdoPage->makePageLink($url, $page - 1, $tplPagePrev)
                : \'\',
            \'pages\' => $pageLimit >= 7 && empty($disableModernPagination)
                ? $pdoPage->buildModernPagination($page, $pageCount, $url)
                : $pdoPage->buildClassicPagination($page, $pageCount, $url),
            \'next\' => $page < $pageCount && !empty($tplPageNext)
                ? $pdoPage->makePageLink($url, $page + 1, $tplPageNext)
                : \'\',
            \'last\' => $page < $pageCount && !empty($tplPageLast)
                ? $pdoPage->makePageLink($url, $pageCount, $tplPageLast)
                : \'\',
        );

        if (!empty($pageCount)) {
            foreach (array(\'first\', \'prev\', \'next\', \'last\') as $v) {
                $tpl = \'tplPage\' . ucfirst($v) . \'Empty\';
                if (!empty(${$tpl}) && empty($pagination[$v])) {
                    $pagination[$v] = $pdoPage->pdoTools->getChunk(${$tpl});
                }
            }
        }
    } else {
        $pagination = array(
            \'first\' => \'\',
            \'prev\' => \'\',
            \'pages\' => \'\',
            \'next\' => \'\',
            \'last\' => \'\'
        );
    }

    $data = array(
        \'output\' => $output,
        $pageVarKey => $page,
        $pageCountVar => $pageCount,
        $pageNavVar => !empty($tplPageWrapper)
            ? $pdoPage->pdoTools->getChunk($tplPageWrapper, $pagination)
            : $pdoPage->pdoTools->parseChunk(\'\', $pagination),
        $totalVar => $total,
    );
    if ($cache) {
        $pdoPage->pdoTools->setCache($data, $scriptProperties);
    }
}

if ($isAjax) {
    if ($pageNavVar != \'pagination\') {
        $data[\'pagination\'] = $data[$pageNavVar];
        unset($data[$pageNavVar]);
    }
    if ($pageCountVar != \'pages\') {
        $data[\'pages\'] = (int)$data[$pageCountVar];
        unset($data[$pageCountVar]);
    }
    if ($pageVarKey != \'page\') {
        $data[\'page\'] = (int)$data[$pageVarKey];
        unset($data[$pageVarKey]);
    }
    if ($totalVar != \'total\') {
        $data[\'total\'] = (int)$data[$totalVar];
        unset($data[$totalVar]);
    }

    $maxIterations = (integer)$modx->getOption(\'parser_max_iterations\', null, 10);
    $modx->getParser()->processElementTags(\'\', $data[\'output\'], false, false, \'[[\', \']]\', array(), $maxIterations);
    $modx->getParser()->processElementTags(\'\', $data[\'output\'], true, true, \'[[\', \']]\', array(), $maxIterations);

    @session_write_close();
    exit(json_encode($data));
} else {
    if (!empty($setMeta)) {
        $canurl = $pdoPage->pdoTools->config[\'scheme\'] !== \'full\'
            ? $modx->getOption(\'url_scheme\') . rtrim($modx->getOption(\'http_host\'), \'/\') . \'/\' . ltrim($url, \'/\')
            : $url;

        $modx->regClientStartupHTMLBlock(\'<link rel="canonical" href="\' . $canurl . \'"/>\');
        if ($data[$pageVarKey] > 1) {
            $modx->regClientStartupHTMLBlock(
                \'<link rel="prev" href="\' . $pdoPage->makePageLink($canurl, $data[$pageVarKey] - 1) . \'"/>\'
            );
        }
        if ($data[$pageVarKey] < $data[$pageCountVar]) {
            $modx->regClientStartupHTMLBlock(
                \'<link rel="next" href="\' . $pdoPage->makePageLink($canurl, $data[$pageVarKey] + 1) . \'"/>\'
            );
        }
    }

    $modx->setPlaceholders($data, $plPrefix);
    if (!empty($toPlaceholder)) {
        $modx->setPlaceholder($toPlaceholder, $data[\'output\']);
    } else {
        return $data[\'output\'];
    }
}',
          'locked' => false,
          'properties' => 
          array (
            'plPrefix' => 
            array (
              'name' => 'plPrefix',
              'desc' => 'pdotools_prop_plPrefix',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Префикс для выставляемых плейсхолдеров, по умолчанию "wf.".',
              'area_trans' => '',
            ),
            'limit' => 
            array (
              'name' => 'limit',
              'desc' => 'pdotools_prop_limit',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => 10,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Ограничение количества результатов выборки. Можно использовать "0".',
              'area_trans' => '',
            ),
            'maxLimit' => 
            array (
              'name' => 'maxLimit',
              'desc' => 'pdotools_prop_maxLimit',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => 100,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Максимально возможный лимит выборки. Перекрывает лимит, указанный пользователем через url.',
              'area_trans' => '',
            ),
            'offset' => 
            array (
              'name' => 'offset',
              'desc' => 'pdotools_prop_offset',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Пропуск результатов от начала.',
              'area_trans' => '',
            ),
            'page' => 
            array (
              'name' => 'page',
              'desc' => 'pdotools_prop_page',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Номер страницы для вывода. Перекрывается номером, указанным пользователем через url.',
              'area_trans' => '',
            ),
            'pageVarKey' => 
            array (
              'name' => 'pageVarKey',
              'desc' => 'pdotools_prop_pageVarKey',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'page',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя переменной для поиска номера страницы в url.',
              'area_trans' => '',
            ),
            'totalVar' => 
            array (
              'name' => 'totalVar',
              'desc' => 'pdotools_prop_totalVar',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'page.total',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя плейсхолдера для сохранения общего количества результатов.',
              'area_trans' => '',
            ),
            'pageLimit' => 
            array (
              'name' => 'pageLimit',
              'desc' => 'pdotools_prop_pageLimit',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => 5,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Количество ссылок на страницы. Если больше или равно 7 - включается продвинутый режим отображения.',
              'area_trans' => '',
            ),
            'element' => 
            array (
              'name' => 'element',
              'desc' => 'pdotools_prop_element',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'pdoResources',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя сниппета для запуска.',
              'area_trans' => '',
            ),
            'pageNavVar' => 
            array (
              'name' => 'pageNavVar',
              'desc' => 'pdotools_prop_pageNavVar',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'page.nav',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя плейсхолдера для вывода пагинации.',
              'area_trans' => '',
            ),
            'pageCountVar' => 
            array (
              'name' => 'pageCountVar',
              'desc' => 'pdotools_prop_pageCountVar',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'pageCount',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя плейсхолдера для вывода количества страниц.',
              'area_trans' => '',
            ),
            'pageLinkScheme' => 
            array (
              'name' => 'pageLinkScheme',
              'desc' => 'pdotools_prop_pageLinkScheme',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Схема генерации ссылки на страницу. Можно использовать плейсхолдеры [[+pageVarKey]] и [[+page]]',
              'area_trans' => '',
            ),
            'tplPage' => 
            array (
              'name' => 'tplPage',
              'desc' => 'pdotools_prop_tplPage',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <li><a href="[[+href]]">[[+pageNo]]</a></li>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк оформления обычной ссылки на страницу.',
              'area_trans' => '',
            ),
            'tplPageWrapper' => 
            array (
              'name' => 'tplPageWrapper',
              'desc' => 'pdotools_prop_tplPageWrapper',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <div class="pagination"><ul class="pagination">[[+first]][[+prev]][[+pages]][[+next]][[+last]]</ul></div>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк оформления всего блока пагинации, содержит плейсхолдеры страниц.',
              'area_trans' => '',
            ),
            'tplPageActive' => 
            array (
              'name' => 'tplPageActive',
              'desc' => 'pdotools_prop_tplPageActive',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <li class="active"><a href="[[+href]]">[[+pageNo]]</a></li>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк оформления ссылки на текущую страницу.',
              'area_trans' => '',
            ),
            'tplPageFirst' => 
            array (
              'name' => 'tplPageFirst',
              'desc' => 'pdotools_prop_tplPageFirst',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <li class="control"><a href="[[+href]]">[[%pdopage_first]]</a></li>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк оформления ссылки на первую страницу.',
              'area_trans' => '',
            ),
            'tplPageLast' => 
            array (
              'name' => 'tplPageLast',
              'desc' => 'pdotools_prop_tplPageLast',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <li class="control"><a href="[[+href]]">[[%pdopage_last]]</a></li>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк оформления ссылки на последнюю страницу.',
              'area_trans' => '',
            ),
            'tplPagePrev' => 
            array (
              'name' => 'tplPagePrev',
              'desc' => 'pdotools_prop_tplPagePrev',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <li class="control"><a href="[[+href]]">&laquo;</a></li>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк оформления ссылки на предыдущую страницу.',
              'area_trans' => '',
            ),
            'tplPageNext' => 
            array (
              'name' => 'tplPageNext',
              'desc' => 'pdotools_prop_tplPageNext',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <li class="control"><a href="[[+href]]">&raquo;</a></li>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк оформления ссылки на следующую страницу.',
              'area_trans' => '',
            ),
            'tplPageSkip' => 
            array (
              'name' => 'tplPageSkip',
              'desc' => 'pdotools_prop_tplPageSkip',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <li class="disabled"><span>...</span></li>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк оформления пропущенных страниц при продвинутом режиме отображения (&pageLimit >= 7).',
              'area_trans' => '',
            ),
            'tplPageFirstEmpty' => 
            array (
              'name' => 'tplPageFirstEmpty',
              'desc' => 'pdotools_prop_tplPageFirstEmpty',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <li class="disabled"><span>[[%pdopage_first]]</span></li>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк, выводящийся при отсутствии ссылки на первую страницу.',
              'area_trans' => '',
            ),
            'tplPageLastEmpty' => 
            array (
              'name' => 'tplPageLastEmpty',
              'desc' => 'pdotools_prop_tplPageLastEmpty',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <li class="disabled"><span>[[%pdopage_last]]</span></li>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк, выводящийся при отсутствии ссылки на последнюю страницу.',
              'area_trans' => '',
            ),
            'tplPagePrevEmpty' => 
            array (
              'name' => 'tplPagePrevEmpty',
              'desc' => 'pdotools_prop_tplPagePrevEmpty',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <li class="disabled"><span>&laquo;</span></li>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк, выводящийся при отсутствии ссылки на предыдущую страницу.',
              'area_trans' => '',
            ),
            'tplPageNextEmpty' => 
            array (
              'name' => 'tplPageNextEmpty',
              'desc' => 'pdotools_prop_tplPageNextEmpty',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <li class="disabled"><span>&raquo;</span></li>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк, выводящийся при отсутствии ссылки на следующую страницу.',
              'area_trans' => '',
            ),
            'cache' => 
            array (
              'name' => 'cache',
              'desc' => 'pdotools_prop_cache',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Кэширование результатов работы сниппета.',
              'area_trans' => '',
            ),
            'cacheTime' => 
            array (
              'name' => 'cacheTime',
              'desc' => 'pdotools_prop_cacheTime',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => 3600,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Время актуальности кэша в секундах.',
              'area_trans' => '',
            ),
            'cacheAnonymous' => 
            array (
              'name' => 'cacheAnonymous',
              'desc' => 'pdotools_prop_cacheAnonymous',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Включить кэширование только для неавторизованных посетителей.',
              'area_trans' => '',
            ),
            'toPlaceholder' => 
            array (
              'name' => 'toPlaceholder',
              'desc' => 'pdotools_prop_toPlaceholder',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Если не пусто, сниппет сохранит все данные в плейсхолдер с этим именем, вместо вывода не экран.',
              'area_trans' => '',
            ),
            'ajax' => 
            array (
              'name' => 'ajax',
              'desc' => 'pdotools_prop_ajax',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Включить поддержку ajax запросов.',
              'area_trans' => '',
            ),
            'ajaxMode' => 
            array (
              'name' => 'ajaxMode',
              'desc' => 'pdotools_prop_ajaxMode',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'None',
                  'value' => '',
                  'name' => 'None',
                ),
                1 => 
                array (
                  'text' => 'Default',
                  'value' => 'default',
                  'name' => 'Default',
                ),
                2 => 
                array (
                  'text' => 'Scroll',
                  'value' => 'scroll',
                  'name' => 'Scroll',
                ),
                3 => 
                array (
                  'text' => 'Button',
                  'value' => 'button',
                  'name' => 'Button',
                ),
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Ajax пагинация "из коробки". Доступны 3 режима: "default", "button" и "scroll".',
              'area_trans' => '',
            ),
            'ajaxElemWrapper' => 
            array (
              'name' => 'ajaxElemWrapper',
              'desc' => 'pdotools_prop_ajaxElemWrapper',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '#pdopage',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'jQuery селектор элемента-обёртки с результатами и пагинацией.',
              'area_trans' => '',
            ),
            'ajaxElemRows' => 
            array (
              'name' => 'ajaxElemRows',
              'desc' => 'pdotools_prop_ajaxElemRows',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '#pdopage .rows',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'jQuery селектор элемента с результатами.',
              'area_trans' => '',
            ),
            'ajaxElemPagination' => 
            array (
              'name' => 'ajaxElemPagination',
              'desc' => 'pdotools_prop_ajaxElemPagination',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '#pdopage .pagination',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'jQuery селектор элемента с пагинацией.',
              'area_trans' => '',
            ),
            'ajaxElemLink' => 
            array (
              'name' => 'ajaxElemLink',
              'desc' => 'pdotools_prop_ajaxElemLink',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '#pdopage .pagination a',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'jQuery селектор ссылки на страницу.',
              'area_trans' => '',
            ),
            'ajaxElemMore' => 
            array (
              'name' => 'ajaxElemMore',
              'desc' => 'pdotools_prop_ajaxElemMore',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '#pdopage .btn-more',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'jQuery селектор кнопки загрузки результатов при ajaxMode = button.',
              'area_trans' => '',
            ),
            'ajaxTplMore' => 
            array (
              'name' => 'ajaxTplMore',
              'desc' => 'pdotools_prop_ajaxTplMore',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <button class="btn btn-default btn-more">[[%pdopage_more]]</button>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Шаблон кнопки для загрузки новых результатов при ajaxMode = button. Должен включать селектор, указанный в "ajaxElemMore".',
              'area_trans' => '',
            ),
            'ajaxHistory' => 
            array (
              'name' => 'ajaxHistory',
              'desc' => 'pdotools_prop_ajaxHistory',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'Auto',
                  'value' => '',
                  'name' => 'Auto',
                ),
                1 => 
                array (
                  'text' => 'Enabled',
                  'value' => 1,
                  'name' => 'Enabled',
                ),
                2 => 
                array (
                  'text' => 'Disabled',
                  'value' => 0,
                  'name' => 'Disabled',
                ),
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Сохранять номер страницы в url при работе в режиме ajax.',
              'area_trans' => '',
            ),
            'frontend_js' => 
            array (
              'name' => 'frontend_js',
              'desc' => 'pdotools_prop_frontend_js',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '[[+assetsUrl]]js/pdopage.min.js',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Ссылка на javascript для подключения сниппетом.',
              'area_trans' => '',
            ),
            'frontend_css' => 
            array (
              'name' => 'frontend_css',
              'desc' => 'pdotools_prop_frontend_css',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '[[+assetsUrl]]css/pdopage.min.css',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Ссылка на css стили оформления для подключения сниппетом.',
              'area_trans' => '',
            ),
            'setMeta' => 
            array (
              'name' => 'setMeta',
              'desc' => 'pdotools_prop_setMeta',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => true,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Регистрация мета-тегов со ссылками на предыдущую и следующую страницу.',
              'area_trans' => '',
            ),
            'strictMode' => 
            array (
              'name' => 'strictMode',
              'desc' => 'pdotools_prop_strictMode',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => true,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Строгий режим работы. pdoPage делает редиректы при загрузке несуществующих страниц.',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => 'core/components/pdotools/elements/snippets/snippet.pdopage.php',
          'content' => '/** @var array $scriptProperties */
// Default variables
if (empty($pageVarKey)) {
    $pageVarKey = \'page\';
}
if (empty($pageNavVar)) {
    $pageNavVar = \'page.nav\';
}
if (empty($pageCountVar)) {
    $pageCountVar = \'pageCount\';
}
if (empty($totalVar)) {
    $totalVar = \'total\';
}
if (empty($page)) {
    $page = 1;
}
if (empty($pageLimit)) {
    $pageLimit = 5;
} else {
    $pageLimit = (integer)$pageLimit;
}
if (!isset($plPrefix)) {
    $plPrefix = \'\';
}
if (!empty($scriptProperties[\'ajaxMode\'])) {
    $scriptProperties[\'ajax\'] = 1;
}

// Convert parameters from getPage if exists
if (!empty($namespace)) {
    $plPrefix = $namespace;
}
if (!empty($pageNavTpl)) {
    $scriptProperties[\'tplPage\'] = $pageNavTpl;
}
if (!empty($pageNavOuterTpl)) {
    $scriptProperties[\'tplPageWrapper\'] = $pageNavOuterTpl;
}
if (!empty($pageActiveTpl)) {
    $scriptProperties[\'tplPageActive\'] = $pageActiveTpl;
}
if (!empty($pageFirstTpl)) {
    $scriptProperties[\'tplPageFirst\'] = $pageFirstTpl;
}
if (!empty($pagePrevTpl)) {
    $scriptProperties[\'tplPagePrev\'] = $pagePrevTpl;
}
if (!empty($pageNextTpl)) {
    $scriptProperties[\'tplPageNext\'] = $pageNextTpl;
}
if (!empty($pageLastTpl)) {
    $scriptProperties[\'tplPageLast\'] = $pageLastTpl;
}
if (!empty($pageSkipTpl)) {
    $scriptProperties[\'tplPageSkip\'] = $pageSkipTpl;
}
if (!empty($pageNavScheme)) {
    $scriptProperties[\'scheme\'] = $pageNavScheme;
}
if (!empty($cache_expires)) {
    $scriptProperties[\'cacheTime\'] = $cache_expires;
}
//---
$strictMode = !empty($strictMode);

$isAjax = !empty($scriptProperties[\'ajax\']) && !empty($_SERVER[\'HTTP_X_REQUESTED_WITH\']) && $_SERVER[\'HTTP_X_REQUESTED_WITH\'] == \'XMLHttpRequest\';
if ($isAjax && !isset($_REQUEST[$pageVarKey])) {
    return;
}

/** @var pdoPage $pdoPage */
$fqn = $modx->getOption(\'pdoPage.class\', null, \'pdotools.pdopage\', true);
$path = $modx->getOption(\'pdopage_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);
if ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {
    $pdoPage = new $pdoClass($modx, $scriptProperties);
} else {
    return false;
}
$pdoPage->pdoTools->addTime(\'pdoTools loaded\');

// Script and styles
if (!$isAjax && !empty($scriptProperties[\'ajaxMode\'])) {
    $pdoPage->loadJsCss();
}
// Removing of default scripts and styles so they do not overwrote nested snippet parameters
if ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoPage\'))) {
    $properties = $snippet->get(\'properties\');
    if ($scriptProperties[\'frontend_js\'] == $properties[\'frontend_js\'][\'value\']) {
        unset($scriptProperties[\'frontend_js\']);
    }
    if ($scriptProperties[\'frontend_css\'] == $properties[\'frontend_css\'][\'value\']) {
        unset($scriptProperties[\'frontend_css\']);
    }
}

// Page
if (isset($_REQUEST[$pageVarKey]) && $strictMode && (!is_numeric($_REQUEST[$pageVarKey]) || ($_REQUEST[$pageVarKey] <= 1 && !$isAjax))) {
    return $pdoPage->redirectToFirst($isAjax);
} elseif (!empty($_REQUEST[$pageVarKey])) {
    $page = (integer)$_REQUEST[$pageVarKey];
}
$scriptProperties[\'page\'] = $page;
$scriptProperties[\'request\'] = $_REQUEST;

// Limit
if (isset($_REQUEST[\'limit\'])) {
    if (is_numeric($_REQUEST[\'limit\']) && abs($_REQUEST[\'limit\']) > 0) {
        $scriptProperties[\'limit\'] = abs($_REQUEST[\'limit\']);
    } elseif ($strictMode) {
        unset($_GET[\'limit\']);

        return $pdoPage->redirectToFirst($isAjax);
    }
}
if (!empty($maxLimit) && !empty($scriptProperties[\'limit\']) && $scriptProperties[\'limit\'] > $maxLimit) {
    $scriptProperties[\'limit\'] = $maxLimit;
}

// Offset
$offset = !empty($scriptProperties[\'offset\']) && $scriptProperties[\'offset\'] > 0
    ? (int)$scriptProperties[\'offset\']
    : 0;
$scriptProperties[\'offset\'] = $page > 1
    ? $scriptProperties[\'limit\'] * ($page - 1) + $offset
    : $offset;
if (!empty($scriptProperties[\'offset\']) && empty($scriptProperties[\'limit\'])) {
    $scriptProperties[\'limit\'] = 10000000;
}

$cache = !empty($cache) || (!$modx->user->id && !empty($cacheAnonymous));
$url = $pdoPage->getBaseUrl();
$output = $pagination = $total = $pageCount = \'\';

$data = $cache
    ? $pdoPage->pdoTools->getCache($scriptProperties)
    : array();

if (empty($data)) {
    $scriptProperties[\'setTotal\'] = true;
    $output = $pdoPage->pdoTools->runSnippet($scriptProperties[\'element\'], $scriptProperties);
    if ($output === false) {
        return \'\';
    } elseif (!empty($toPlaceholder)) {
        $output = $modx->getPlaceholder($toPlaceholder);
    }

    // Pagination
    $total = (int)$modx->getPlaceholder($totalVar);
    $pageCount = !empty($scriptProperties[\'limit\']) && $total > $offset
        ? ceil(($total - $offset) / $scriptProperties[\'limit\'])
        : 0;

    // Redirect to start if somebody specified incorrect page
    if ($page > 1 && $page > $pageCount && $strictMode) {
        return $pdoPage->redirectToFirst($isAjax);
    }
    if (!empty($pageCount) && $pageCount > 1) {
        $pagination = array(
            \'first\' => $page > 1 && !empty($tplPageFirst)
                ? $pdoPage->makePageLink($url, 1, $tplPageFirst)
                : \'\',
            \'prev\' => $page > 1 && !empty($tplPagePrev)
                ? $pdoPage->makePageLink($url, $page - 1, $tplPagePrev)
                : \'\',
            \'pages\' => $pageLimit >= 7 && empty($disableModernPagination)
                ? $pdoPage->buildModernPagination($page, $pageCount, $url)
                : $pdoPage->buildClassicPagination($page, $pageCount, $url),
            \'next\' => $page < $pageCount && !empty($tplPageNext)
                ? $pdoPage->makePageLink($url, $page + 1, $tplPageNext)
                : \'\',
            \'last\' => $page < $pageCount && !empty($tplPageLast)
                ? $pdoPage->makePageLink($url, $pageCount, $tplPageLast)
                : \'\',
        );

        if (!empty($pageCount)) {
            foreach (array(\'first\', \'prev\', \'next\', \'last\') as $v) {
                $tpl = \'tplPage\' . ucfirst($v) . \'Empty\';
                if (!empty(${$tpl}) && empty($pagination[$v])) {
                    $pagination[$v] = $pdoPage->pdoTools->getChunk(${$tpl});
                }
            }
        }
    } else {
        $pagination = array(
            \'first\' => \'\',
            \'prev\' => \'\',
            \'pages\' => \'\',
            \'next\' => \'\',
            \'last\' => \'\'
        );
    }

    $data = array(
        \'output\' => $output,
        $pageVarKey => $page,
        $pageCountVar => $pageCount,
        $pageNavVar => !empty($tplPageWrapper)
            ? $pdoPage->pdoTools->getChunk($tplPageWrapper, $pagination)
            : $pdoPage->pdoTools->parseChunk(\'\', $pagination),
        $totalVar => $total,
    );
    if ($cache) {
        $pdoPage->pdoTools->setCache($data, $scriptProperties);
    }
}

if ($isAjax) {
    if ($pageNavVar != \'pagination\') {
        $data[\'pagination\'] = $data[$pageNavVar];
        unset($data[$pageNavVar]);
    }
    if ($pageCountVar != \'pages\') {
        $data[\'pages\'] = (int)$data[$pageCountVar];
        unset($data[$pageCountVar]);
    }
    if ($pageVarKey != \'page\') {
        $data[\'page\'] = (int)$data[$pageVarKey];
        unset($data[$pageVarKey]);
    }
    if ($totalVar != \'total\') {
        $data[\'total\'] = (int)$data[$totalVar];
        unset($data[$totalVar]);
    }

    $maxIterations = (integer)$modx->getOption(\'parser_max_iterations\', null, 10);
    $modx->getParser()->processElementTags(\'\', $data[\'output\'], false, false, \'[[\', \']]\', array(), $maxIterations);
    $modx->getParser()->processElementTags(\'\', $data[\'output\'], true, true, \'[[\', \']]\', array(), $maxIterations);

    @session_write_close();
    exit(json_encode($data));
} else {
    if (!empty($setMeta)) {
        $canurl = $pdoPage->pdoTools->config[\'scheme\'] !== \'full\'
            ? $modx->getOption(\'url_scheme\') . rtrim($modx->getOption(\'http_host\'), \'/\') . \'/\' . ltrim($url, \'/\')
            : $url;

        $modx->regClientStartupHTMLBlock(\'<link rel="canonical" href="\' . $canurl . \'"/>\');
        if ($data[$pageVarKey] > 1) {
            $modx->regClientStartupHTMLBlock(
                \'<link rel="prev" href="\' . $pdoPage->makePageLink($canurl, $data[$pageVarKey] - 1) . \'"/>\'
            );
        }
        if ($data[$pageVarKey] < $data[$pageCountVar]) {
            $modx->regClientStartupHTMLBlock(
                \'<link rel="next" href="\' . $pdoPage->makePageLink($canurl, $data[$pageVarKey] + 1) . \'"/>\'
            );
        }
    }

    $modx->setPlaceholders($data, $plPrefix);
    if (!empty($toPlaceholder)) {
        $modx->setPlaceholder($toPlaceholder, $data[\'output\']);
    } else {
        return $data[\'output\'];
    }
}',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'cardStyle' => 
      array (
        'fields' => 
        array (
          'id' => 23,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'cardStyle',
          'description' => '',
          'editor_type' => 0,
          'category' => 7,
          'cache_type' => 0,
          'snippet' => '$style = "";
if (isset($type)) {
	switch ($type) {
		case \'cinema\':
			$style = "light-blue lighten-3";
			break;
		case \'theatre\':
			$style = "lime lighten-2";
			break;
		case \'clubs\':
			$style = "deep-purple accent-1";
			break;
		case \'shows\':
			$style = "light-green lighten-3";
			break;
		case \'business\':
			$style = "pink accent-1";
			break;
		case \'sport\':
			$style = "indigo lighten-1";
			break;
		case \'free\':
			$style = "purple accent-2";
			break;
		default:
			$style = "";
			break;
	}
}
return $style;',
          'locked' => false,
          'properties' => 
          array (
          ),
          'moduleguid' => '',
          'static' => true,
          'static_file' => 'assets/custom/snippets/cardStyle.php',
          'content' => '$style = "";
if (isset($type)) {
	switch ($type) {
		case \'cinema\':
			$style = "light-blue lighten-3";
			break;
		case \'theatre\':
			$style = "lime lighten-2";
			break;
		case \'clubs\':
			$style = "deep-purple accent-1";
			break;
		case \'shows\':
			$style = "light-green lighten-3";
			break;
		case \'business\':
			$style = "pink accent-1";
			break;
		case \'sport\':
			$style = "indigo lighten-1";
			break;
		case \'free\':
			$style = "purple accent-2";
			break;
		default:
			$style = "";
			break;
	}
}
return $style;',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'phpthumbof' => 
      array (
        'fields' => 
        array (
          'id' => 19,
          'source' => 0,
          'property_preprocess' => false,
          'name' => 'phpthumbof',
          'description' => 'A custom output filter that generates thumbnails securely with phpThumb.',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '/**
 * phpThumbOf
 *
 * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>
 *
 * phpThumbOf is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * phpThumbOf is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * phpThumbOf; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * @package phpthumbof
 */
/**
 * A custom output filter for phpThumb
 *
 * @var modX $modx
 * @var array $scriptProperties
 * @var phpThumbOf $phpThumbOf
 * @var string $input
 * @var string|array $options
 *
 * @package phpthumbof
 */
if (empty($modx)) return \'\';
if (!$modx->loadClass(\'modPhpThumb\',$modx->getOption(\'core_path\').\'model/phpthumb/\',true,true)) {
    $modx->log(modX::LOG_LEVEL_ERROR,\'[phpThumbOf] Could not load modPhpThumb class.\');
    return \'\';
}
if (empty($input)) {
    $modx->log(modX::LOG_LEVEL_DEBUG,\'[phpThumbOf] Empty image path passed, aborting.\');
    return \'\';
}
$modelPath = $modx->getOption(\'phpthumbof.core_path\',null,$modx->getOption(\'core_path\').\'components/phpthumbof/\').\'model/\';
require_once $modelPath.\'phpthumbof/phpthumbof.class.php\';
$phpThumbOf = new phpThumbOf($modx,$scriptProperties);

$phpThumbOf->getCacheDirectory();
$phpThumbOf->ensureCacheDirectoryIsWritable();

$thumbnail = $phpThumbOf->createThumbnailObject();
$thumbnail->setInput($input);
$thumbnail->setOptions($options);
$thumbnail->initializeService();
return $thumbnail->render();',
          'locked' => false,
          'properties' => NULL,
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * phpThumbOf
 *
 * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>
 *
 * phpThumbOf is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * phpThumbOf is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * phpThumbOf; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * @package phpthumbof
 */
/**
 * A custom output filter for phpThumb
 *
 * @var modX $modx
 * @var array $scriptProperties
 * @var phpThumbOf $phpThumbOf
 * @var string $input
 * @var string|array $options
 *
 * @package phpthumbof
 */
if (empty($modx)) return \'\';
if (!$modx->loadClass(\'modPhpThumb\',$modx->getOption(\'core_path\').\'model/phpthumb/\',true,true)) {
    $modx->log(modX::LOG_LEVEL_ERROR,\'[phpThumbOf] Could not load modPhpThumb class.\');
    return \'\';
}
if (empty($input)) {
    $modx->log(modX::LOG_LEVEL_DEBUG,\'[phpThumbOf] Empty image path passed, aborting.\');
    return \'\';
}
$modelPath = $modx->getOption(\'phpthumbof.core_path\',null,$modx->getOption(\'core_path\').\'components/phpthumbof/\').\'model/\';
require_once $modelPath.\'phpthumbof/phpthumbof.class.php\';
$phpThumbOf = new phpThumbOf($modx,$scriptProperties);

$phpThumbOf->getCacheDirectory();
$phpThumbOf->ensureCacheDirectoryIsWritable();

$thumbnail = $phpThumbOf->createThumbnailObject();
$thumbnail->setInput($input);
$thumbnail->setOptions($options);
$thumbnail->initializeService();
return $thumbnail->render();',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
        ),
      ),
    ),
    'modTemplateVar' => 
    array (
    ),
  ),
);